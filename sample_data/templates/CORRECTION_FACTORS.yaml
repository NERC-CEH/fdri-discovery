globals:
  $baseURI: http://fdri.ceh.ac.uk/
  $datasetID: cosmos

imports:
  - namespaces.yaml
  - extensions.py

resources:
  - name: Configuration
    properties:
      "@id": "<http://fdri.ceh.ac.uk/id/data-processing-configuration/cosmos-correction-{SITE_ID|slug}-{VARIABLE|slug}>"
      "@type": "<fdri:InternalDataProcessingConfiguration>"
      "<fdri:appliesToFacility>": <http://fdri.ceh.ac.uk/id/site/cosmos-{SITE_ID|slug}>
      "<fdri:appliesToVariable>": <http://fdri.ceh.ac.uk/ref/cosmos/cop/{VARIABLE|slug}>
      "<dct:type>": <http://fdri.ceh.ac.uk/ref/common/configuration-type/correction>

  - name: ConfigurationItem
    properties:
      "@id": "<http://fdri.ceh.ac.uk/id/configuration-item/cosmos-{SITE_ID|slug}-{VARIABLE|slug}-{START_DATETIME|slug}>"
      "@type": <fdri:ConfigurationItem>
      "<fdri:method>": "<http://fdri.ceh.ac.uk/ref/common/method/correction-{CORRECTION_ID|slug}>"
      "<fdri:argument>":
        name: ConfigurationArg
        properties:
          "@id": "<_>"
          "@type": "<fdri:ConfigurationArgument>"
          "<fdri:configurationParameter>": "<http://fdri.ceh.ac.uk/ref/common/configuration-parameter/correction-factor>"
          "<fdri:hasValue>":
            name: ConfigurationValue
            properties:
              "@id": "<_>"
              "@type": "<schema:PropertyValue>"
              "<schema:value>": "{CORRECTION_FACTOR|asDecimal}"
      "<fdri:interval>":
        name: Interval
        properties:
          "@id": "<_>"
          "@type": <dct:PeriodOfTime>
          "<dcat:startDate>": "{START_DATETIME | asDateTime}"
      "<fdri:observationInterval>":
        name: Interval
        properties:
          "@id": "<_>"
          "@type": <dct:PeriodOfTime>
          "<dcat:startDate>": "{START_DATETIME | asDateTime}"
          "<dcat:endDate>": "{END_DATETIME | asDateTime}"
      "^<fdri:hasCurrentConfiguration>": "<http://fdri.ceh.ac.uk/id/data-processing-configuration/cosmos-correction-{SITE_ID|slug}-{VARIABLE|slug}>"
