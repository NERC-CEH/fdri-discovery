globals:
  $baseURI: http://fdri.ceh.ac.uk/
  $datasetID: cosmos

imports:
  - namespaces.yaml
  - extensions.py

one_offs:
  - name: Ratio
    properties:
      "@id": "<http://fdri.ceh.ac.uk/ref/common/parameter/ratio>"
      "@type": <qudt:QuantityKind>
      "<skos:prefLabel>": "Ratio@en"

  - name: LandCover
    properties:
      "@id": "<http://fdri.ceh.ac.uk/ref/common/object-of-interest/land_cover>"
      "@type": <fdri:ObjectOfInterest>
      "<skos:prefLabel>": "Land cover@en"

  - name: LandCoverRatio
    properties:
      "@id": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/land-cover-ratio>"
      "@type": "<fdri:Variable>"
      "<skos:prefLabel>": "Land cover ratio@en"
      "<rdfs:label>": "Land cover ratio@en"
      "<iop:hasProperty>": "<::Ratio>"
      "<iop:hasObjectOfInterest>": <::LandCover>
resources:
  - name: LandCoverMeasureSeries
    properties:
      "@id": "<http://fdri.ceh.ac.uk/ref/cosmos/site-land-cover/{SITE_ID|slug}>"
      "@type": "<fdri:PropertyValueSeries>"
      "^<fdri:landCover>": "<http://fdri.ceh.ac.uk/id/site/{SITE_ID|slug}>"
      "<fdri:hasCurrentValue>":
        name: LandCoverCurrentValue
        properties:
          "@id": "<_>"
          "@type": "<fdri:TimeBoundPropertyValue>"
          "<fdri:interval>":
            name: LandCoverCurrentValueInterval
            properties:
              "@id": "<_>"
              "@type": "<dct:PeriodOfTime>"
              "<dcat:startDate>": "{START_DATE | asDate}"
          "<fdri:valueReference>": "<http://fdri.ceh.ac.uk/ref/cosmos/land-cover/{LCM_CLASS|asInt}>"
          "<fdri:qualifier>":
            name: LandCoverAreaQualifier
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<::LandCoverRatio>"
              "<fdri:hasValue>":
                name: LandCoverAreaQualifierValue
                properties:
                  "@id": "<_>"
                  "@type": "<schema:PropertyValue>"
                  "<schema:value>": "{AREA_RATIO | asDecimal}"   
