globals:
    $baseURI: http://fdri.ceh.ac.uk/
    $datasetID: cosmos

imports:
    - namespaces.yaml

resources:
    - name: MonitoringSite
      properties:
        "@id": "<http://fdri.ceh.ac.uk/ref/cosmos/site/{SITE_ID}>"
        "@type": <fdri:EnvironmentalMonitoringSite>
        "<dct:title>": "{SITE_NAME}@en"
        "<dct:description>": "{SITE_DESC}@en"
        "<geos:hasGeometry>": 
            - name: EastingsNorthingsPoint
              properties:
                "@id": "<_>"
                "@type": "<geos:Geometry>"
                "<geos:asWKT>": "<http://www.opengis.net/def/crs/EPSG/0/27700> POINT({EASTING}, {NORTHING})"
            - name: LatLongPoint
              properties:
                "@id": "<_>"
                "@type": "<geos:Geometry>"
                "<geos:asWKT>": "POINT({LATITUDE}, {LONGITUDE})"
        "<fdri:altitude>": "{ALTITUDE | asDecimal}"
        "<fdri:operatingPeriod>":
          - name: OperatingPeriod
            properties:
              "@id": "<_>"
              "@type": "<dct:PeriodOfTime>"
              "<dcat:startDate>": "{DATE_INSTALLED | asDateOrDatetime}"
              "<dcat:endDate>": "{DATE_DECOMMISSIONED | asDateOrDatetime}"
        "<fdri:inRegion>":
          - name: InRegionSeries
            properties:
              "@id": "<_>"
              "@type": "<fdri:PropertyValueSeries>"
              "<fdri:hasCurrentValue>":
                name: InRegionCurrentValue
                properties:
                  "@id": "<_>"
                  "@type": "<fdri:TimeBoundPropertyValue>"
                  "<schema:valueReference>": "{REGION | autoCV('region', 'label')}"
                  "<fdri:interval>":
                    name: InRegionCurrentValueInterval
                    properties:
                      "@id": "<_>"
                      "@type": "<dct:PeriodOfTime>"
                      "<dcat:startDate>": "{DATE_INSTALLED | asDateOrDatetime}"
        "<fdri:hasAnnotation>":
          - name: SoilType
            properties:
              "@id" : "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/soil_type>"
              "<fdri:hasValue>":
                name: "SoilTypeValue"
                properties:
                  "@id": <_>
                  "@type": "<schema:PropertyValue>"
                  "<schema:valueReference>": "{SOIL_TYPE | autoCV('soil_type', 'label')}"
          - name: Calibrated
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-calibrated>"
              "<fdri:hasValue>":
                name: "CalibratedValue"
                properties:
                  "@id": <_>
                  "@type": "<schema:PropertyValue>"
                  "<schema:value>": "{CALIBRATED | asBoolean('y')}"
          - name: Public
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-public>"
              "<fdri:hasValue>":
                name: "PublicValue"
                properties:
                  "@id": <_>
                  "@type": "<schema:PropertyValue>"
                  "<schema:value>": "{IS_PUBLIC | asBoolean('y')}"
          - name: Snow
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-snow>"
              "<fdri:hasValue>":
                name: "SnowValue"
                properties:
                  "@id": <_>
                  "@type": "<schema:PropertyValue>"
                  "<schema:value>": "{SNOW | asBoolean('y')}"
          - name: LocationSource
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-location-source>"
              "<fdri:hasValue>":
                name: "LocationSourceValue"
                properties:
                  "@id": <_>
                  "@type": "<schema:PropertyValue>"
                  "<schema:value>": "{LOCATION_SOURCE}"
          - name: Flux
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-flux>"
              "<fdri:hasValue>":
                name: "FluxValue"
                properties:
                  "@id": <_>
                  "@type": "<schema:PropertyValue>"
                  "<schema:value>": "{FLUX | asBoolean('y')}"
          - name: Crs2IsMod
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-csr2-mod>"
              "<fdri:hasValue>":
                name: "Crs2IsModValue"
                properties:
                  "@id": <_>
                  "@type": "<schema:PropertyValue>"
                  "<schema:value>": "{CRS2_IS_MOD | asBoolean('y')}"
          - name: FullTdtArray
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-full-tdt-array>"
              "<fdri:hasValue>":
                name: "FullTdtArrayValue"
                properties:
                  "@id": <_>
                  "@type": "<schema:PropertyValue>"
                  "<schema:value>": "{FULL_TDT_ARRAY | asBoolean('y')}"
          - name: BedrockClass
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-bedrock-class>"
              "<fdri:hasValue>":
                name: "BedrockClassValue"
                properties:
                  "@id": <_>
                  "@type": "<schema:PropertyValue>"
                  "<schema:valueReference>": "{BEDROCK_CLASS | autoCV('bedrock-class', 'label')}"
          - name: BedrockSuperclass
            # Should maybe be a broader concept of bedrock class?
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-bedrock-superclass>"
              "<fdri:hasValue>":
                name: "BedrockSuperclassValue"
                properties:
                  "@id": <_>
                  "@type": "<schema:PropertyValue>"
                  "<schema:valueReference>": "{SUPER_CLASS | autoCV('bedrock-class', 'label')}"
          - name: SuperSeries
            # QUESTION: Is this related to bedrock or soil?
            # If the former, should maybe be a broader concept of bedrock super class?
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-bedrock-superseries>"
              "<fdri:hasValue>":
                name: "BedrockSuperSeriesValue"
                properties:
                  "@id": "<_>"
                  "@type": "<schema:PropertyValue>"
                  "<schema:valueReference>": "{SUPER_SERIES | autoCV('bedrock-class')}"
          - name: Saar
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-saar-1961-1990>"
              "<fdri;hasValue>":
                name: SaarValue
                properties:
                  "@id": "<_>"
                  "@type": "<schema:PropertyValue>"
                  "<schema:value>": "{SAAR_1961_1990 | asDecimal}"
          - name: SiteClass
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-class>"
              "<fdri;hasValue>":
                name: SiteClassValue
                # QUESTION: Is this actually a controlled vocabulary?
                properties:
                  "@id": "<_>"
                  "@type": "<schema:PropertyValue>"
                  "schema:value>": "{SITE_CLASS | asDecimal}"
          - name: WebImages
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/site-web-images>"
              "<fdri;hasValue>":
                name: WebImagesValue
                properties:
                  "@id": "<_>"
                  "@type": "<schema:PropertyValue>"
                  # NOTE: Should be converted to integer. Not sure why it is a decimal in the CSV
                  "schema:value>": "{WEB_IMAGES | asInt}"
          - name: HostClass
            properties:
              "@id": "<_>"
              "@type": "<fdri:Annotation>"
              "<fdri:property>": "<http://fdri.ceh.ac.uk/ref/cosmos/cop/host-class>"
              "<fdri;hasValue>":
                name: HostClassValue
                # QUESTION: Is this actually a controlled vocabulary?
                properties:
                  "@id": "<_>"
                  "@type": "<schema:PropertyValue>"
                  "schema:value>": "{HOST_CLASS | asDecimal}"


