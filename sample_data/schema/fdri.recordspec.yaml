base: http://fdri.ceh.ac.uk/records/metadata/
prefixes:
  - prefix: dcat
    uri: http://www.w3.org/ns/dcat#
  - prefix: dct
    uri: http://purl.org/dc/terms/
  - prefix: fdri
    uri: http://fdri.ceh.ac.uk/vocab/metadata/
  - prefix: geos
    uri: http://www.opengis.net/ont/geosparql#
  - prefix: iop
    uri: https://w3id.org/iadopt/ont/
  - prefix: prov
    uri: http://www.w3.org/ns/prov#
  - prefix: qudt
    uri: "http://qudt.org/schema/qudt/"
  - prefix: rdf
    uri: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  - prefix: rdfs
    uri: http://www.w3.org/2000/01/rdf-schema#
  - prefix: schema
    uri: http://schema.org/
  - prefix: skos
    uri: http://www.w3.org/2004/02/skos/core#
  - prefix: sosa
    uri: http://www.w3.org/ns/sosa/
  - prefix: ssn
    uri: http://www.w3.org/ns/ssn/
  - prefix: xsd
    uri: http://www.w3.org/2001/XMLSchema#


mixins:
  # Mixins represent reusable packages of properties that can be applied to classes.

  WithAnnotations:
    label:
      - value: With Annotations
        language: en
    description:
      - value: |
          Allows metadata annotations to be added to the parent resource.
    properties:
      hasAnnotation:
        propertyUri: fdri:hasAnnotation
        kind: object
        repeatable: true
        constraints:
          - record: Annotation

  WithLabelAndComment:
    label:
      - value: With Label And Comment
        language: en
    description:
      - value: |
          Provides the RDF Schema properties for label and comment.
          Primarily used for the labelling and description of non-document things other than SKOS concepts.
    properties:
      label:
        propertyUri: rdfs:label
        kind: literal
        repeatable: true
        constraints:
          - datatype: rdf:langString
      comment:
        propertyUri: rdfs:comment
        kind: literal
        repeatable: true
        constraints:
          - datatype: rdf:langString

  WithTitleAndDescription:
    label:
      - value: With Title And Description Mixin
        language: en
    description:
      - value: |
          Provides the Dublin Core properties for title and description.
          Primarily used for the labelling and descrtipion of document-like things such as datasets, web pages and documents.
          This mixin does not apply to classes derived from `Concept` which instead use the properties defined by SKOS
          (`skos:prefLabel` and `skos:scopeNote`).

    properties:
      title:
        propertyUri: dct:title
        kind: literal
        repeatable: true
        constraints:
          -  datatype: rdf:langString
      description:
        propertyUri: dct:description
        kind: literal
        repeatable: true
        constraints:
          - datatype: rdf:langString

  WithDataProcessingProvenance:
    properties:
      wasGeneratedBy:
        propertyUri: prov:wasGeneratedBy
        kind: object
        constraints:
          - record: DataProcessingActivity
      wasModifiedBy:
        propertyUri: fdri:wasModifiedBy
        kind: object
        repeatable: true
        constraints:
          - record: DataProcessingActivity
  
  WithPublicationMetadata:
    properties:
      publisher:
        propertyUri: dct:publisher
        kind: object
        constraints:
          - record: Agent
      contributor:
        propertyUri: dct:contributor
        kind: object
        repeatable: true
        constraints:
          - record: Agent
      created:
        propertyUri: dct:created
        kind: literal
        constraints:
          - datatype: xsd:dateTime
      modified:
        propertyUri: dct:modified
        kind: literal
        constraints:
          - datatype: xsd:dateTime
  
  WithIndexedGeometry:
    properties:
      hasGeometry:
        propertyUri: geos:hasGeometry
        kind: object
        nested: true
        repeatable: true
        constraints:
          - record: Geometry
      hasCentroid:
        propertyUri: geos:hasCentroid
        kind: object
        nested: true
        constraints:
          - record: Geometry
      hasBoundingBox:
        propertyUri: geos:hasBoundingBox
        kind: object
        nested: true
        constraints:
          - record: Geometry
      hasRepresentativePoint:
        propertyUri: fdri:hasRepresentativePoint
        kind: object
        nested: true
        constraints:
          - record: Geometry


records:

  Agent:
    classUri: fdri:Agent
    shortCode: Agent
    mixins:
      - WithLabelAndComment

  Annotation:
    classUri: fdri:Annotation
    shortCode: Annotation
    mixins:
      - WithLabelAndComment
    properties:
      property:
        propertyUri: fdri:property
        kind: object
        constraints:
          - record: ComplexObservableProperty
      hasValue:
        propertyUri: fdri:hasValue
        kind: object
        constraints:
          - record: PropertyValue
      hasValueSeries:
        propertyUri: fdri:hasValueSeries
        kind: object
        constraints:
          - record: PropertyValueSeries

  Catchment:
    extends: Concept
    classUri: fdri:Catchment
    shortCode: Catchment
    properties:
      hasGeometry:
        propertyUri: geos:hasGeometry
        kind: object
        nested: true
        constraints:
          - record: Geometry
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: CatchmentScheme
  
  CatchmentScheme:
    extends: ConceptScheme
    classUri: fdri:CatchmentScheme
    shortCode: CatchmentScheme
  
  ComplexObservableProperty:
    extends: Concept
    classUri: fdri:ComplexObservableProperty
    shortCode: ComplexObservableProperty
    properties:
      hasProperty:
        propertyUri: "iop:hasProperty"
        kind: object
        required: true
        constraints:
          - record: QuantityKind
      hasObjectOfInterest:
        propertyUri: iop:hasObjectOfInterest
        kind: object
        required: true
        constraints:
          - record: ObjectOfInterest
      environmentalDomain:
        propertyUri: fdri:environmentalDomain
        kind: object
        constraints:
          - record: EnvironmentalDomain
      hasContextObject:
        propertyUri: iop:hasContextObject
        kind: object
        constraints:
          - record: ContextObject
      hasUnit:
        propertyUri: fdri:hasUnit
        kind: object
        constraints:
          - record: Unit
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: ComplexObservablePropertyScheme
      unitName:
        propertyUri: fdri:unitName
        kind: literal
        repeatable: true
        constraints:
          - datatype: rdf:langString
      aggregationPeriod:
        propertyUri: fdri:aggregationPeriod
        kind: literal
        constraints:
          - datatype: xsd:duration
      valueStatistic:
        propertyUri: fdri:valueStatistic
        kind: object
        constraints:
          - record: ValueStatistic

  ComplexObservablePropertyScheme:
    extends: ConceptScheme
    classUri: fdri:ComplexObservablePropertyScheme
    shortCode: ComplexObservablePropertyScheme

  Concept:
    classUri: skos:Concept
    shortCode: Concept
    properties:
      prefLabel:
        propertyUri: skos:prefLabel
        kind: literal
        repeatable: true
        constraints:
          - datatype: rdf:langString
      scopeNote:
        propertyUri: skos:scopeNote
        kind: literal
        repeatable: true
        constraints:
          - datatype: rdf:langString
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: ConceptScheme
      broader:
        propertyUri: skos:broader
        kind: object
        constraints:
          - record: Concept

  ConceptScheme:
    classUri: skos:ConceptScheme
    shortCode: ConceptScheme
    mixins:
      - WithTitleAndDescription
      - WithPublicationMetadata

  ConfigurationArgument:
    classUri: fdri:ConfigurationArgument
    shortCode: ConfigurationArgument
    label:
      - value: Data Processing Configuration Argument
        language: en
    description:
      - value: Represents a single argument passed to a configuration method as part of a data processing configuration item.
        language: en
    properties:
      parameter:
        description:
          - value: A reference to the method parameter that this argument provides a value for.
            language: en
        propertyUri: fdri:parameter
        kind: object
        constraints:
          - record: ConfigurationParameter
      hasValue:
        description:
          - value: The value of the configuration argument.
            language: en
        propertyUri: fdri:hasValue
        kind: object
        nested: true
        constraints:
          - record: PropertyValue

  ConfigurationItem:
    classUri: fdri:ConfigurationItem
    shortCode: ConfigurationItem
    label:
      - value: Data Processing Configuration Item
        language: en
    description:
      - value: Represents the configuration of a single data processing method to be applied to a subset of observations as part of a data processing pipeline run.
        language: en
    properties:
      method:
        description:
          - value: A reference to the concept that defines the data processing method applied.
            language: en
        propertyUri: fdri:method
        kind: object
        constraints:
          - record: DataProcessingMethod
      interval:
        description:
          - value: The time period during which this configuration applies.
            language: en
        propertyUri: fdri:interval
        kind: object
        nested: true
        constraints:
          - record: PeriodOfTime
      observationInterval:
        description:
          - value: The period of observational data that this configuration applies to.
            language: en
        propertyUri: fdri:observationInterval
        kind: object
        nested: true
        constraints:
          - record: PeriodOfTime
      argument:
        description:
          - value: An argument passed to the data processing method for this configuration.
            language: en
        propertyUri: fdri:argument
        kind: object
        repeatable: true
        nested: true
        constraints:
          - record: ConfigurationArgument
      replaces:
        description:
          - value: A reference to the configuration item that this item replaces.
            language: en
        propertyUri: dct:replaces
        kind: object
        constraints:
          - record: ConfigurationItem

  ConfigurationParameter:
    label:
      - value: Data Processing Method Parameter
        language: en
    description:
      - value: Represents a single parameter that may be passed to a `DataProcessingMethod` by a `ConfigurationItem` as part of a data processing pipeline.
        language: en
    extends: Concept
    classUri: fdri:ConfigurationParameter
    shortCode: ConfigurationParameter
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: ConfigurationParameterScheme
  
  ConfigurationParameterScheme:
    extends: ConceptScheme
    classUri: fdri:ConfigurationParameterScheme
    shortCode: ConfigurationParameterScheme        
    
  ConfigurationProperty:
    extends: Concept
    classUri: fdri:ConfigurationProperty
    shortCode: ConfigurationProperty
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: ConfigurationPropertyScheme
  
  ConfigurationPropertyScheme:
    extends: ConceptScheme
    classUri: fdri:ConfigurationPropertyScheme
    shortCode: ConfigurationPropertyScheme

  ConfigurationValueSeries:
    classUri: fdri:ConfigurationValueSeries
    shortCode: ConfigurationValueSeries
    properties:
      hadValue:
        propertyUri: fdri:hadValue
        kind: object
        repeatable: true
        nested: true
        constraints:
          - record: TimeBoundPropertyValue
      hasCurrentValue:
        propertyUri: fdri:hasCurrentValue
        kind: object
        nested: true
        constraints:
          - record: TimeBoundPropertyValue
      type:
        propertyUri: dct:type
        kind: object
        constraints:
          - record: ConfigurationProperty
  
  ContextObject:
    extends: Concept
    classUri: fdri:ContextObject
    shortCode: ContextObject
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: ContextObjectScheme
  
  ContextObjectScheme:
    extends: ConceptScheme
    classUri: fdri:ContextObjectScheme
    shortCode: ContextObjectScheme

  DataProcessingActivity:
    classUri: fdri:DataProcessingActivity
    shortCode: DataProcessingActivity
    mixins:
      - WithLabelAndComment
    properties:
      type:
        propertyUri: dct:type
        kind: object
        required: true
        constraints:
          - record: DataProcessingActivityType
      qualifiedAssociation:
        propertyUri: prov:qualifiedAssociation
        kind: object
        nested: true
        repeatable: true
        constraints:
          - record: QualifiedAssociation
      startedAtTime:
        propertyUri: prov:startedAtTime
        kind: literal
        constraints:
          - datatype: xsd:dateTime
      endedAtTime:
        propertyUri: prov:endedAtTime
        kind: literal
        constraints:
          - datatype: xsd:dateTime

  DataProcessingActivityType:
    extends: Concept
    classUri: fdri:DataProcessingActivityType
    shortCode: DataProcessingActivityType
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: DataProcessingActivityTypeScheme

  DataProcessingActivityTypeScheme:
    extends: ConceptScheme
    classUri: fdri:DataProcessingActivityTypeScheme
    shortCode: DataProcessingActivityTypeScheme

  DataProcessingConfiguration:
    classUri: fdri:DataProcessingConfiguration
    shortCode: DataProcessingConfiguration
    extends: Plan
    mixins:
      - WithTitleAndDescription
      - WithPublicationMetadata
    properties:
      type:
        propertyUri: dct:type
        kind: object
        required: true
        constraints:
          - record: DataProcessingConfigurationType

  DataProcessingConfigurationType:
    extends: Concept
    classUri: fdri:DataProcessingConfigurationType
    shortCode: DataProcessingConfigurationType
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: DataProcessingConfigurationTypeScheme
  
  DataProcessingConfigurationTypeScheme:
    extends: ConceptScheme
    classUri: fdri:DataProcessingConfigurationTypeScheme
    shortCode: DataProcessingConfigurationTypeScheme
      
  DataProcessingMethod:
    extends: Concept
    classUri: fdri:DataProcessingMethod
    shortCode: DataProcessingMethod
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: DataProcessingMethodScheme
  
  DataProcessingMethodScheme:
    extends: ConceptScheme
    classUri: fdri:DataProcessingMethodScheme
    shortCode: DataProcessingMethodScheme

  Deployment:
    classUri: fdri:Deployment
    shortCode: Deployment
    mixins:
      - WithLabelAndComment
    properties:
      startedAtTime:
        propertyUri: prov:startedAtTime
        kind: literal
        constraints:
          - datatype: xsd:dateTime
      endedAtTime:
        propertyUri: prov:endedAtTime
        kind: literal
        constraints:
          - datatype: xsd:dateTime
      deployedOnPlatform:
        propertyUri: ssn:deployedOnPlatform
        kind: object
        constraints:
          - record: EnvironmentalMonitoringPlatform
      deployedSystem:
        propertyUri: ssn:deployedSystem
        kind: object
        repeatable: true
        constraints:
          - record: EnvironmentalMonitoringSystem
      deploymentVariance:
        propertyUri: fdri:deploymentVariance
        kind: literal
        repeatable: true
        constraints:
          - datatype: rdf:langString

  Dataset:
    classUri: dcat:Dataset
    shortCode: Dataset
    mixins:
      - WithTitleAndDescription
      - WithPublicationMetadata

  Distribution:
    mixins:
      - WithTitleAndDescription
      - WithDataProcessingProvenance
      - WithPublicationMetadata
    classUri: fdri:Distribution
    shortCode: Distribution
    properties:
      accessUrl:
        propertyUri: dct:accessURL
        kind: literal
        repeatable: true
        constraints:
          - datatype: xsd:anyURI
      format:
        propertyUri: dct:format
        kind: object
        required: true

  EnvironmentalDomain:
    extends: Concept
    classUri: fdri:EnvironmentalDomain
    shortCode: EnvironmentalDomain
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: EnvironmentalDomainScheme
  
  EnvironmentalDomainScheme:
    extends: ConceptScheme
    classUri: fdri:EnvironmentalDomainScheme
    shortCode: EnvironmentalDomainScheme

  EnvironmentalMonitoringFacility:
    classUri: fdri:EnvironmentalMonitoringFacility
    shortCode: EnvironmentalMonitoringFacility
    mixins:
      - WithLabelAndComment
      - WithAnnotations
      - WithIndexedGeometry
    properties:
      hasPart:
        propertyUri: dct:hasPart
        kind: object
        repeatable: true
        constraints:
          - record: EnvironmentalMonitoringFacility
      isMobile:
        propertyUri: fdri:isMobile
        kind: literal
        constraints:
          - datatype: xsd:boolean
      operatingPeriod:
        propertyUri: fdri:operatingPeriod
        kind: object
        nested: true
        constraints:
          - record: PeriodOfTime
      hasFeatureOfInterest:
        propertyUri: sosa:hasFeatureOfInterest
        kind: object
        constraints:
          - record: GeospatialFeatureOfInterest
      observes:
        propertyUri: sosa:observes
        kind: object
        repeatable: true
        constraints:
          - record: ComplexObservableProperty
      environmentalDomain:
        propertyUri: fdri:environmentalDomain
        kind: object
        repeatable: true
        constraints:
          - record: EnvironmentalDomain
      qualifiedAttribution:
        propertyUri: prov:qualifiedAttribution
        kind: object
        repeatable: true
        nested: true
        constraints:
          - record: RelatedPartyAttribution
      type:
        propertyUri: dct:type
        kind: object
        constraints:
          - record: EnvironmentalMonitoringFacilityType

  EnvironmentalMonitoringFacilityType:
    extends: Concept
    classUri: fdri:EnvironmentalMonitoringFacilityType
    shortCode: EnvironmentalMonitoringFacilityType
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: EnvironmentalMonitoringFacilityTypeScheme
  
  EnvironmentalMonitoringFacilityTypeScheme:
    extends: ConceptScheme
    classUri: fdri:EnvironmentalMonitoringFacilityTypeScheme
    shortCode: EnvironmentalMonitoringFacilityTypeScheme
      
  EnvironmentalMonitoringNetwork:
    classUri: fdri:EnvironmentalMonitoringNetwork
    shortCode: EnvironmentalMonitoringNetwork
    mixins:
      - WithAnnotations
      - WithLabelAndComment
    properties:
      contains:
        propertyUri: fdri:contains
        kind: object
        constraints:
          - record: EnvironmentalMonitoringFacility

  EnvironmentalMonitoringPlatform:
    extends: EnvironmentalMonitoringFacility
    classUri: fdri:EnvironmentalMonitoringPlatform
    shortCode: EnvironmentalMonitoringPlatform
    properties:
      isPartOf:
        propertyUri: dct:isPartOf
        kind: object
        constraints:
          - record: EnvironmentalMonitoringSite

  EnvironmentalMonitoringProgramme:
    classUri: fdri:EnvironmentalMonitoringProgramme
    shortCode: EnvironmentalMonitoringProgramme
    mixins:
      - WithAnnotations
      - WithLabelAndComment
    properties:
      utilises:
        propertyUri: fdri:utilises
        kind: object
        repeatable: true
        constraints:
          - record: EnvironmentalMonitoringNetwork
          - record: EnvironmentalMonitoringFacility
      
  EnvironmentalMonitoringSensor:
    extends: EnvironmentalMonitoringSystem
    classUri: fdri:EnvironmentalMonitoringSensor
    shortCode: EnvironmentalMonitoringSensor
  
  EnvironmentalMonitoringSite:
    extends: EnvironmentalMonitoringFacility
    classUri: fdri:EnvironmentalMonitoringSite
    shortCode: EnvironmentalMonitoringSite
    properties:
      altitude:
        propertyUri: fdri:altitude
        kind: literal
        constraints:
          - datatype: xsd:decimal
      inRegion:
        propertyUri: fdri:inRegion
        kind: object
        repeatable: true
        constraints:
          - record: PropertyValueSeries
      inCatchment:
        propertyUri: fdri:inCatchment
        kind: object
        repeatable: true
        constraints:
          - record: PropertyValueSeries
      landCover:
        propertyUri: fdri:landCover
        kind: object
        nested: true
        repeatable: true
        constraints:
          - record: PropertyValueSeries
      siteVariance:
        propertyUri: fdri:siteVariance
        kind: literal
        repeatable: true
        constraints:
          - datatype: rdf:langString
      soilType:
        propertyUri: fdri:soilType
        kind: object
        constraints:
          - record: SoilType
  
  EnvironmentalMonitoringSiteType:
    extends: EnvironmentalMonitoringFacilityType
    classUri: fdri:EnvironmentalMonitoringSiteType
    shortCode: EnvironmentalMonitoringSiteType
  
  EnvironmentalMonitoringSystem:
    extends: EnvironmentalMonitoringFacility
    classUri: fdri:EnvironmentalMonitoringSystem
    shortCode: EnvironmentalMonitoringSystem
    properties:
      assetNumber:
        propertyUri: fdri:assetNumber
        kind: literal
        constraints:
          - datatype: xsd:string
      certification:
        propertyUri: fdri:certification
        kind: object
      configuration:
        propertyUri: fdri:configuration
        kind: object
        repeatable: true
        nested: true
        constraints:
          - record: ConfigurationValueSeries
      dateOfPurchase:
        propertyUri: fdri:dateOfPurchase
        kind: literal
        constraints:
          - datatype: xsd:date
      dateOfDisposal:
        propertyUri: fdri:dateOfDisposal
        kind: literal
        constraints:
          - datatype: xsd:date
      hadFault:
        propertyUri: fdri:hadFault
        kind: object
        constraints:
          - record: Fault
      hasSubsystem:
        propertyUri: ssn:hasSubsystem
        kind: object
        constraints:
          - record: EnvironmentalMonitoringSystem
      retirementDate:
        propertyUri: fdri:retirementDate
        kind: literal
        constraints:
          - datatype: xsd:date
      serialNumber:
        propertyUri: fdri:serialNumber
        kind: literal
        constraints:
          - datatype: xsd:string
      status:
        propertyUri: adms:status
        kind: object
        constraints:
          - record: SystemStatus
      storageLocation:
        propertyUri: fdri:storageLocation
        kind: literal
        constraints:
          - datatype: xsd:string
      type:
        propertyUri: dct:type
        kind: object
        constraints:
          - record: EnvironmentalMonitoringSystemType
  
  EnvironmentalMonitoringSystemType:
    extends: EnvironmentalMonitoringFacilityType
    classUri: fdri:EnvironmentalMonitoringSystemType
    shortCode: EnvironmentalMonitoringSystemType
    properties:
      hasProcedure:
        propertyUri: fdri:hasProcedure
        kind: object
        constraints:
          - record: Procedure
      observes:
        propertyUri: sosa:observes
        kind: object
        constraints:
          - record: ComplexObservableProperty
  
  ExternalDataProcessingConfiguration:
    extends: Plan
    classUri: fdri:ExternalDataProcessingConfiguration
    shortCode: ExternalDataProcessingConfiguration
    mixins:
      - WithTitleAndDescription
    properties:
      repository:
        propertyUri: fdri:repository
        kind: literal
        required: true
        constraints:
          - datatype: xsd:anyURI
      repositoryPath:
        propertyUri: fdri:repositoryPath
        kind: literal
        constraints:
          - datatype: xsd:string
      version:
        propertyUri: dct:version
        kind: literal
        constraints:
          - datatype: xsd:string
      type:
        propertyUri: dct:type
        kind: object
        constraints:
          - record: DataProcessingConfigurationType
      replaces:
        propertyUri: dct:replaces
        kind: object
        constraints:
          - record: ExternalDataProcessingConfiguration

  Fault:
    classUri: fdri:Fault
    shortCode: Fault
    mixins:
      - WithLabelAndComment
    properties:
      affectedFacility:
        propertyUri: fdri:affectedFacility
        kind: object
        repeatable: true
        constraints:
          - record: EnvironmentalMonitoringFacility
      affectedVariable:
        propertyUri: fdri:affectedVariable
        kind: object
        repeatable: true
        constraints:
          - record: ComplexObservableProperty
      interval:
        propertyUri: fdri:interval
        kind: object
        constraints:
          - record: PeriodOfTime

  Feature:
    classUri: geos:Feature
    shortCode: Feature
    mixins:
      - WithLabelAndComment
    properties:
      hasGeometry:
        propertyUri: geos:hasGeometry
        kind: object
        nested: true
        constraints:
          - record: Geometry

  Geometry:
    classUri: geos:Geometry
    shortCode: Geometry
    properties:
      asWKT:
        propertyUri: geos:asWKT
        kind: literal
        constraints:
          - datatype: geos:wktLiteral
  
  GeospatialFeatureOfInterest:
    extends: Feature
    classUri: fdri:GeospatialFeatureOfInterest
    shortCode: GeospatialFeatureOfInterest
    mixins:
      - WithIndexedGeometry
  
  InternalDataProcessingConfiguration:
    classUri: fdri:InternalDataProcessingConfiguration
    shortCode: InternalDataProcessingConfiguration
    extends: DataProcessingConfiguration
    properties:
      appliesToFacility:
        propertyUri: fdri:appliesToFacility
        kind: object
        constraints:
          - record: EnvironmentalMonitoringFacilityType
          - record: EnvironmentalMonitoringFacility
      appliesToVariable:
        propertyUri: fdri:appliesToVariable
        kind: object
        repeatable: true
        constraints:
          - record: ComplexObservableProperty
      hadConfiguration:
        propertyUri: fdri:hadConfiguration
        kind: object
        repeatable: true
        constraints:
          - record: ConfigurationItem
      hasCurrentConfiguration:
        propertyUri: fdri:hasCurrentConfiguration
        kind: object
        required: true
        repeatable: true
        constraints:
          - record: ConfigurationItem
  
  ObjectOfInterest:
    extends: Concept
    classUri: fdri:ObjectOfInterest
    shortCode: ObjectOfInterest
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: ObjectOfInterestScheme
  
  ObjectOfInterestScheme:
    extends: ConceptScheme
    classUri: fdri:ObjectOfInterestScheme
    shortCode: ObjectOfInterestScheme

  ObservationDataset:
    classUri: fdri:ObservationDataset
    shortCode: ObservationDataset
    extends: Dataset
    mixins:
      - WithDataProcessingProvenance
      - WithAnnotations
    properties:
      accessRights:
        propertyUri: dct:accessRights
        kind: object
        repeatable: true
      accrualPeriodicity:
        propertyUri: dct:accrualPeriodicity
        kind: literal
        constraints:
          - datatype: xsd:duration
      license:
        propertyUri: dct:license
        kind: object
      rights:
        propertyUri: dct:rights
        kind: object
      conformsTo:
        propertyUri: dct:conformsTo
        kind: object
        repeatable: true
      issued:
        propertyUri: dct:issued
        kind: literal
        constraints:
          - datatype: xsd:dateTime
      identifier:
        propertyUri: dct:identifier
        kind: literal
        repeatable: true
        constraints:
          - datatype: xsd:string
      type:
        propertyUri: dct:type
        kind: object
        repeatable: true
        constraints:
          - record: Concept
      theme:
        propertyUri: dct:theme
        kind: object
        repeatable: true
        constraints:
          - record: Concept
      temporal:
        propertyUri: dct:temporal
        kind: object
        nested: true
        constraints:
          - record: PeriodOfTime
      temporalResolution:
        propertyUri: dcat:temporalResolution
        kind: literal
        constraints:
          - datatype: xsd:duration
      spatial:
        propertyUri: dct:spatial
        kind: object
        constraints:
          - record: GeospatialFeatureOfInterest
      observedProperty:
        propertyUri: sosa:observedProperty
        kind: object
        constraints:
          - record: ComplexObservableProperty
      originatingFacility:
        propertyUri: fdri:originatingFacility
        kind: object
        repeatable: true
        constraints:
          - record: EnvironmentalMonitoringFacility
      originatingProgramme:
        propertyUri: fdri:originatingProgramme
        kind: object
        repeatable: true
        constraints:
          - record: EnvironmentalMonitoringProgramme
      isVersionOf:
        propertyUri: dct:isVersionOf
        kind: object
        constraints:
          - record: ObservationDataset
      hasVersion:
        propertyUri: dcat:hasVersion
        kind: object
        repeatable: true
        constraints:
          - record: ObservationDataset
      hasCurrentVersion:
        propertyUri: dcat:hasCurrentVersion
        kind: object
        repeatable: true
        constraints:
          - record: ObservationDataset
      previousVersion:
        propertyUri: dcat:previousVersion
        kind: object
        constraints:
          - record: ObservationDataset
      processingLevel:
        propertyUri: fdri:processingLevel
        kind: object
        required: true
        constraints:
          - record: ProcessingLevel
      inSeries:
        propertyUri: dcat:inSeries
        kind: object
        repeatable: true
        constraints:
          - record: ObservationDatasetSeries
      distribution:
        propertyUri: dcat:distribution
        kind: object
        nested: true
        repeatable: true
        constraints:
          - record: Distribution

  ObservationDatasetSeries:
    extends: ObservationDataset
    classUri: fdri:ObservationDatasetSeries
    shortCode: ObservationDatasetSeries
  
  PeriodOfTime:
    classUri: dct:PeriodOfTime
    shortCode: PeriodOfTime
    properties:
      startDate:
        propertyUri: dcat:startDate
        kind: literal
        required: true
        constraints:
          - datatype: xsd:date
          - datatype: xsd:dateTime
      endDate:
        propertyUri: dcat:endDate
        kind: literal
        constraints:
          - datatype: xsd:date
          - datatype: xsd:dateTime
  
  Plan:
    classUri: prov:Plan
    shortCode: Plan
    mixins:
      - WithTitleAndDescription

  Procedure:
    classUri: fdri:Procedure
    shortCode: Procedure
    mixins:
      - WithLabelAndComment
    properties:
      procedurePeriodicity:
        propertyUri: fdri:procedurePeriodicity
        kind: literal
        constraints:
          - datatype: xsd:duration
      type:
        propertyUri: dct:type
        kind: object
        constraints:
          - record: ProcedureType
  
  ProcedureType:
    extends: Concept
    classUri: fdri:ProcedureType
    shortCode: ProcedureType
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: ProcedureTypeScheme
  
  ProcedureTypeScheme:
    extends: ConceptScheme
    classUri: fdri:ProcedureTypeScheme
    shortCode: ProcedureTypeScheme
      
  ProcessingLevel:
    extends: Concept
    classUri: fdri:ProcessingLevel
    shortCode: ProcessingLevel
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: ProcessingLevelScheme

  ProcessingLevelScheme:
    extends: ConceptScheme
    classUri: fdri:ProcessingLevelScheme
    shortCode: ProcessingLevelScheme

  ProgrammeCatalog:
    mixins:
      - WithTitleAndDescription
      - WithPublicationMetadata
    classUri: fdri:ProgrammeCatalog
    shortCode: ProgrammeCatalog
    properties:
      programme:
        propertyUri: fdri:programme
        kind: object
        constraints:
          - record: EnvironmentalMonitoringProgramme
      observedPropertyScheme:
        propertyUri: fdri:observedPropertyScheme
        kind: object
        constraints:
          - record: ComplexObservablePropertyScheme
      annotationPropertyScheme:
        propertyUri: fdri:annotationPropertyScheme
        kind: object
        constraints:
          - record: ComplexObservablePropertyScheme
      regionScheme:
        propertyUri: fdri:regionScheme
        kind: object
        constraints:
          - record: RegionScheme
      catchmentScheme:
        propertyUri: fdri:catchmentScheme
        kind: object
        constraints:
          - record: CatchmentScheme
      configurationPropertyScheme:
        propertyUri: fdri:configurationPropertyScheme
        kind: object
        constraints:
          - record: ConfigurationPropertyScheme
      monitoringFacilityTypeScheme:
        propertyUri: fdri:monitoringFacilityTypeScheme
        kind: object
        constraints:
          - record: EnvironmentalMonitoringFacilityTypeScheme
      monitoringSystemTypeScheme:
        propertyUri: fdri:monitoringSystemTypeScheme
        kind: object
        constraints:
          - record: EnvironmentalMonitoringFacilityTypeScheme

  PropertyValue:
    classUri: schema:PropertyValue
    shortCode: PropertyValue
    properties:
      minValue:
        propertyUri: schema:minValue
        kind: literal
      maxValue:
        propertyUri: schema:maxValue
        kind: literal
      value:
        propertyUri: schema:value
        kind: literal
      valueReference:
        propertyUri: schema:valueReference
        kind: object
      unit:
        propertyUri: schema:unit
        kind: object
        constraints:
          - record: Unit
      qualifier:
        propertyUri: fdri:qualifier
        kind: object
        constraints:
          - record: Annotation

  PropertyValueSeries:
    classUri: fdri:PropertyValueSeries
    shortCode: PropertyValueSeries
    properties:
      hadValue:
        propertyUri: fdri:hadValue
        kind: object
        repeatable: true
        nested: true
        constraints:
          - record: TimeBoundPropertyValue
      hasCurrentValue:
        propertyUri: fdri:hasCurrentValue
        kind: object
        nested: true
        repeatable: true
        constraints:
          - record: TimeBoundPropertyValue

  QualifiedAssociation:
    classUri: prov:QualifiedAssociation
    shortCode: QualifiedAssociation
    properties:
      agent:
        propertyUri: prov:agent
        kind: object
        constraints:
          - record: Agent
      hadPlan:
        propertyUri: prov:hadPlan
        kind: object
        repeatable: true
        constraints:
          - record: Plan
      hadRole:
        propertyUri: prov:hadRole
        kind: object
        constraints:
          - record: Concept

  QuantityKind:
    classUri: qudt:QuantityKind
    shortCode: QuantityKind
    # TODO: Subset of properties of QuantityKind from QUDT

  Region:
    extends: Concept
    classUri: fdri:Region
    shortCode: Region
    properties:
      hasGeometry:
        propertyUri: geos:hasGeometry
        kind: object
        nested: true
        constraints:
          - record: Geometry
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: RegionScheme

  RegionScheme:
    extends: ConceptScheme
    classUri: fdri:RegionScheme
    shortCode: RegionScheme

  RelatedPartyAttribution:
    classUri: fdri:RelatedPartyAttribution
    shortCode: RelatedPartyAttribution
    properties:
      hasRole:
        propertyUri: dcat:hasRole
        kind: object
        required: true
        constraints:
          - record: RelatedPartyRole
      agent:
        propertyUri: prov:Agent
        kind: object
        required: true
        constraints:
          - record: Agent

  RelatedPartyRole:
    extends: Concept
    classUri: fdri:RelatedParyRole
    shortCode: RelatedPartyRole
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: RelatedPartyRoleScheme
  
  RelatedPartyRoleScheme:
    extends: ConceptScheme
    classUri: fdri:RelatedPartyRoleScheme
    shortCode: RelatedPartyRoleScheme

  RelativeLocation:
    classUri: fdri:RelativeLocation
    shortCode: RelativeLocation
    properties:
      offsetNorth:
        propertyUri: fdri:offsetNorth
        kind: literal
        constraints:
          - datatype: xsd:decimal
      offsetEast:
        propertyUri: fdri:offsetEast
        kind: literal
        constraints:
          - datatype: xsd:decimal
      elevation:
        propertyUri: fdri:elevation
        kind: literal
        constraints:
          - datatype: xsd:decimal

  SoilType:
    extends: Concept
    classUri: fdri:SoilType
    shortCode: SoilType
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: SoilTypeScheme
  
  SoilTypeScheme:
    extends: ConceptScheme
    classUri: fdri:ConceptScheme
    shortCode: SoilTypeScheme

  StaticDeployment:
    extends: Deployment
    classUri: fdri:StaticDeployment
    shortCode: StaticDeployment
    properties:
      deployedHeight:
        propertyUri: fdri:deloyedHeight
        kind: literal
        constraints:
          - datatype: xsd:decimal
      deployedDepth:
        propertyUri: fdri:deployedDepth
        kind: literal
        constraints:
          - datatype: xsd:decimal
      deploymentPosition:
        propertyUri: fdri:deploymentPosition
        kind: literal
        constraints:
          - datatype: xsd:string
      atLocation:
        propertyUri: prov:atLocation
        kind: object
        constraints:
          - record: RelativeLocation
          - record: Feature

  SystemStatus:
    extends: Concept
    classUri: fdri:SystemStatus
    shortCode: SystemStatus
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: SystemStatusScheme
  
  SystemStatusScheme:
    extends: ConceptScheme
    classUri: fdri:SystemStatusScheme
    shortCode: SystemStatusScheme

  TimeBoundPropertyValue:
    classUri: fdri:TimeBoundPropertyValue
    extends: PropertyValue
    shortCode: TimeBoundPropertyValue
    properties:
      interval:
        propertyUri: fdri:interval
        kind: object
        nested: true
        constraints:
          - record: PeriodOfTime
      replaces:
        propertyUri: dct:replaces
        kind: object
        constraints:
          - record: TimeBoundPropertyValue
    
  TimeSeriesDataset:
    extends: ObservationDataset
    classUri: fdri:TimeSeriesDataset
    shortCode: TimeSeriesDataset
    properties:
      aggregationPeriod:
        propertyUri: fdri:aggregationPeriod
        kind: literal
        constraints:
          - datatype: xsd:duration
      valueStatistic:
        propertyUri: fdri:valueStatistic
        kind: object
        constraints:
          - record: ValueStatistic

  Unit:
    classUri: qudt:Unit
    shortCode: Unit
    extends: Concept
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: UnitScheme
  
  UnitScheme:
    classUri: fdri:UnitScheme
    shortCode: UnitScheme
    properties:
      hasTopConcept:
        propertyUri: skos:hasTopConcept
        kind: object
        constraints:
          - record: Unit

  ValueStatistic:
    extends: Concept
    classUri: fdri:ValueStatistic
    shortCode: ValueStatistic
    properties:
      inScheme:
        propertyUri: skos:inScheme
        kind: object
        constraints:
          - record: ValueStatisticScheme

  ValueStatisticScheme:
    extends: ConceptScheme
    classUri: fdri:ValueStatisticScheme
    shortCode: ValueStatisticScheme
